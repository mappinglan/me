###
Dism /Split-Image /ImageFile:F:\install.wim /SWMFile:F:\install.swm /FileSize:2500

shell:startup //开机运行

CMCCAdmin
aDm8H%MdA
#移动宽带允许IPv6入站，路由器界面安全-防火墙-取消防攻击保护

timedatectl set-local-rtc 1 --adjust-system-clock //Ubuntu时间与Windows时间不一致问题

##jetbrains reset evaluation
删除C:\Users\wower\AppData\Roaming\JetBrains\IntelliJIdea2021.1\eval下所有文件
删除C:\Users\wower\AppData\Roaming\JetBrains\IntelliJIdea2021.1\options下other.xml文件
删除计算机\HKEY_CURRENT_USER\SOFTWARE\JavaSoft\Prefs\jetbrains
rm ~/.config/JetBrains/IntelliJIdea2021.2/options/other.xml
rm ~/.config/JetBrains/IntelliJIdea2021.2/eval/*
rm -rf ~/.java/.userPrefs/prefs.xml
rm -rf ~/.java/.userPrefs/jetbrains/prefs.xml

##安装VMware Workstation Pro
su - root
apt install linux-headers-5.10.0-8-amd64
sh VMware-Workstation-Full-16.1.2-17966106.x86_64.bundle
openssl req -new -x509 -newkey rsa:2048 -keyout MOK.priv -outform DER -out MOK.der -nodes -days 36500 -subj "/CN=VMware/"
/usr/src/linux-headers-`uname -r`/scripts/sign-file sha256 ./MOK.priv ./MOK.der $(modinfo -n vmmon)
/usr/src/linux-headers-`uname -r`/scripts/sign-file sha256 ./MOK.priv ./MOK.der $(modinfo -n vmnet)
mokutil --import MOK.der
reboot

vmware-installer -u vmware-workstation //卸载

##vmware3D加速取消mesa黑名单
～/.vmware/preferences //添加如下参数
mks.gl.allowBlacklistedDrivers = "TRUE"

##VMware Workstation Pro 16 license keys
ZF3R0-FHED2-M80TY-8QYGC-NPKYF
YF390-0HF8P-M81RQ-2DXQE-M2UT6
ZF71R-DMX85-08DQY-8YMNC-PPHV8

apt-get install mysql-server
ALTER USER 'root'@'localhost' IDENTIFIED BY '123456';
CREATE USER 'jeffrey'@'localhost' IDENTIFIED BY 'password';
update user set Host='%' where User='root';
flush privileges;
set global time_zone = '+8:00';
vi /etc/mysql/mysql.conf.d/mysqld.cnf //在bind-adress = 127.0.0.1前加上#号
service mysql restart

mkdir /opt/jvm
tar -zxvf openjdk-16_linux-x64_bin.tar.gz -C /opt/jvm
vi /etc/profile
export JAVA_HOME=/opt/jvm/jdk-16
export PATH=$JAVA_HOME/bin:$PATH
source /etc/profile
vi ~/.bashrc

##idea输入法问题解决，在vmoptions添加
-Drecreate.x11.input.method=true
###

sudo apt install build-essential //Clion toolchain cc c++ make,(Clion,IdeaIU)Ubuntu Software //Rhythmbox

apt install openjdk-11-jdk openjdk-11-source
apt install mariadb-server
apt install vim
apt install git
apt install vlc
apt install mpv

##添加sudo
#sudo adduser me sudo
vi /etc/sudoers
me	ALL=(ALL:ALL) ALL

##修改系统语言
dpkg-reconfigure locales

//apt update
//apt upgrade
sudo passwd
su - root
sudo vi /etc/ssh/sshd_config
PermitRootLogin yes
PasswordAuthentication yes
ClientAliveInterval 30
ClientAliveCountMax 3
sudo service sshd restart

mkdir .ssh
cp /home/mappinglan/.ssh/authorized_keys .ssh/authorized_keys

#SSH密钥
ssh-keygen -t ed25519 -C "mappinglan@gmail.com"

ssh -T git@github.com

#给ssh-agent添加key
chmod  400 ~/.ssh/myid
ssh-add ~/.ssh/myid

ssh -i .ssh/myid root@wower.cool
ssh-copy-id -i .ssh/myid root@wower.cool
scp -i .ssh/myid root@wower.cool:/root/vpnclient.p12 vpnclient.p12

git config --global user.email "mappinglan@gmail.com"
git config --global user.name "mappinglan"

#windows ssh-agent
ps aux | grep ssh
kill -9 线程号
eval "$(ssh-agent -s)"
ssh-add ~/.ssh/myid
git add *
git commit -m "m"
git push
git pull
git clone

#修改内核
apt install linux-image-amd64
cat /boot/grub/grub.cfg
vim /etc/default/grub
GRUB_DEFAULT=0 修改为
GRUB_DEFAULT="Advanced options for Debian GNU/Linux>Debian GNU/Linux, with Linux 5.10.0-8-amd64"
update-grub

apt install qemu-guest-agent spice-vdagent
apt install virt-manager
qemu-img convert -f raw -O vmdk openwrt-21.02.0-x86-64-generic-squashfs-combined-efi.img openwrt-21.02.0-x86-64-generic-squashfs-combined-efi.vmdk
qemu-img convert -f raw -O vmdk openwrt-21.02.0-x86-64-generic-ext4-combined-efi.img openwrt-21.02.0-x86-64-generic-ext4-combined-efi.vmdk

#KMS激活Windsows Office
#https://github.com/Wind4/vlmcsd
#https://github.com/netnr/kms
cat /proc/cpuinfo
wget https://github.com/Wind4/vlmcsd/releases/download/svn1113/binaries.tar.gz
tar -zxvf binaries.tar.gz
cp binaries/Linux/intel/static/vlmcsd-x64-musl-static /usr/bin/vlmcsd

vi /lib/systemd/system/vlmcsd.service
[Unit]
Description = KMS Server By vlmcsd
After=network.target
[Service]
Type=forking
ExecStart=/usr/bin/vlmcsd
ExecStop=/bin/kill -HUP $MAINPID
PrivateTmp=true
[Install]
WantedBy=multi-user.target

systemctl daemon-reload
systemctl start vlmcsd
systemctl stop vlmcsd
systemctl status vlmcsd
systemctl enable vlmcsd

netstat -tupln |grep 1688

slmgr -skms wower.cool
slmgr -ipk W269N-WFGWX-YVC9B-4J6C9-T83GX //win10专业版KMS Client Setup Key，VOL版windows,office不需要更改密钥
slmgr -ato
Windows+R，输入slmgr.vbs -dlv，查看关于授权的详细信息

#https://docs.microsoft.com/zh-cn/deployoffice/ltsc2021/deploy
setup /download configuration-Office2021Enterprise.xml
setup /configure configuration-Office2021Enterprise.xml

cd C:\Program Files\Microsoft Office\Office16
cscript ospp.vbs /sethst:wower.cool
cscript ospp.vbs /act
cscript ospp.vbs /dstatus